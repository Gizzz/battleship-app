(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(21)},15:function(t,e,a){},17:function(t,e,a){},19:function(t,e,a){},21:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),s=(a(15),a(1)),l=a(2),c=a(4),u=a(3),d=a(5),m=a(9),f=a(6),v=(a(17),{alive:"+",damaged:"*",dead:"x",miss:"-",unknown:"?"}),p=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).initialState={ships:[{positions:[[2,9,1],[3,9,1],[4,9,1],[5,9,1],[6,9,1]]},{positions:[[5,2,1],[5,3,1],[5,4,1],[5,5,1]]},{positions:[[8,1,1],[8,2,1],[8,3,1]]},{positions:[[3,0,1],[3,1,1],[3,2,1]]},{positions:[[0,0,1],[1,0,1]]}],missedPositions:[]},a.state=a.initialState,a.createCellClickHandler=function(t,e){return function(){var n=e,r=t,i=!0,o=JSON.parse(JSON.stringify(a.state.ships)).map(function(t){return Object(f.a)({},t,{positions:t.positions.map(function(t){var e=t[0]===n&&t[1]===r;return e&&(i=!1),e?[t[0],t[1],0]:t})})}),s=Object(m.a)(a.state.missedPositions),l=[e,t];i&&!a.isMissedPositionExists(l)&&s.push([n,r]),a.setState({ships:o,missedPositions:s},function(){a.computeGameover()&&setTimeout(function(){alert("Game is over. Let's start again!"),a.setState(Object(f.a)({},a.initialState))},10)})}},a.isMissedPositionExists=function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=a.state.missedPositions[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;if(s[0]===t[0]&&s[1]===t[1])return!0}}catch(l){n=!0,r=l}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return!1},a.computeGameover=function(){var t=!0,e=!1,n=void 0;try{for(var r,i=a.state.ships[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,c=void 0;try{for(var u,d=o.positions[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){if(1===u.value[2])return!1}}catch(m){l=!0,c=m}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}}}catch(m){e=!0,n=m}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}return!0},a.computeBoard=function(){for(var t=[],e=0;e<10;e++){for(var n=[],r=0;r<10;r++)n.push(v.unknown);t.push(n)}var i=!0,o=!1,s=void 0;try{for(var l,c=a.state.ships[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,d=u.positions.reduce(function(t,e){return!0===t||!(0===e[2])},!1),m=!0,f=!1,p=void 0;try{for(var h,y=u.positions[Symbol.iterator]();!(m=(h=y.next()).done);m=!0){var b=h.value,w=b[1],_=b[0],k=1===b[2];t[w][_]=k?v.alive:d?v.damaged:v.dead}}catch(P){f=!0,p=P}finally{try{m||null==y.return||y.return()}finally{if(f)throw p}}}}catch(P){o=!0,s=P}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}var O=!0,g=!1,S=void 0;try{for(var j,E=a.state.missedPositions[Symbol.iterator]();!(O=(j=E.next()).done);O=!0){var x=j.value,N=x[1],C=x[0];t[N][C]=v.miss}}catch(P){g=!0,S=P}finally{try{O||null==E.return||E.return()}finally{if(g)throw S}}return t},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){for(var t=this,e=this.computeBoard(),a=[],n=function(n){var i=e[n].map(function(e,a){var i=e===v.miss?"board__cell--miss":e===v.damaged?"board__cell--damaged":e===v.dead?"board__cell--dead":"board__cell--unknown";return r.a.createElement("div",{className:"board__cell ".concat(i),key:a,onClick:t.createCellClickHandler(n,a)},e===v.miss?"-":e===v.damaged?"*":e===v.dead?"x":"?")}),o=r.a.createElement("div",{className:"board__row",key:n},i);a.push(o)},i=0;i<e.length;i++)n(i);return r.a.createElement("div",{className:"board"},a)}}]),e}(r.a.Component),h=(a(19),function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("h1",{className:"app__title"},"Battleship App"),r.a.createElement("p",{className:"app__descr"},"Search and destroy all enemy ships by clicking on tiles of the board."),r.a.createElement("div",{className:"app__board"},r.a.createElement(p,null)))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.438a4cbf.chunk.js.map